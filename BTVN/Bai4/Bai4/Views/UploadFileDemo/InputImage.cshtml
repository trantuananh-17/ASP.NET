@{
    ViewBag.Title = "InputImage";
}

<script>
    var loadFile = function (event) {
        var image = document.getElementById("output");
        image.src = URL.createObjectURL(event.target.files[0]);
    }
</script>

<h2>Input Image</h2>

@using (Html.BeginForm("OutputImage", "UploadFileDemo", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <label>Name</label>
    @Html.TextBox("name")
    <br />

    @* Hiển thị ảnh trước khi tải lên *@
    var temp = "";
    if (ViewBag.imagename != null)
    {
        temp = "/Images/" + ViewBag.imagename;
    }
    else
    {
        temp = "/Images/emptyImage.png";
    }

    <img id="output" alt="anh" width="200" height="135" src="@temp" />
    <br />

    <label>Chọn file ảnh</label>
    <input type="file" name="img1" id="ufile" onchange="loadFile(event)" />
    <br />

    <input type="submit" value="Send" name="sb" />

    <hr />
    <label>Name: &nbsp; </label><i>@ViewBag.name</i>
    <br />
    <label>Image Name: &nbsp;</label><i>@ViewBag.imagename</i>
    <br />
    <label>Result: &nbsp;</label><i>@ViewBag.msg</i>
}
